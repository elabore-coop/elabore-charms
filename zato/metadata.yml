docker-image: ghcr.io/zatosource/zato-3.2-quickstart:latest
docker-compose:
  ports:
    - "22022:22"
    - "8183:8183"
    - "21223:21223"

data-resources: ## /srv/datastore/data/$SERVICE_NAME/
  - /opt/hot-deploy/
  - /opt/zato/current/extlib

requires:
  web-publishing-directory:
    interface: publish-dir
    scope: container

uses:
  web-proxy:
    #constraint: required | recommended | optional
    #auto: pair | summon | none ## default: pair
    constraint: recommended
    auto: pair
    solves:
      proxy: "Public access"
    default-options:
      target: !var-expand ${MASTER_BASE_SERVICE_NAME}:8183
  postgres-database:
    #constraint: required | recommended | optional
    #auto: pair | summon | none ## default: pair
    constraint: required
    auto: summon
    solves:
      database: "main storage"
  backup:
    constraint: recommended
    auto: pair
    solves:
      backup: "Automatic regular backup"
    default-options:
